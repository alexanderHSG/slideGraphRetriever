<html>

<head>
    <title>DataViz</title>
    <style type="text/css">
        #viz {
            width:  1400px;
            height: 700px;
        }
    </style>
    <script src="https://rawgit.com/neo4j-contrib/neovis.js/master/dist/neovis.js"></script>
</head>

<script type="text/javascript">
    var viz;
    function draw() {
        var config = {
                containerId: "viz",
                neo4j: {
                    serverUrl: "bolt://localhost:7687",
                    serverUser: "neo4j",
                    serverPassword: "123testtest"
                },
                labels: {
                    SLIDE: {
                        [NeoVis.NEOVIS_ADVANCED_CONFIG]: {
                        static: {
                            shape: "image" // Sets the shape to use an image (use "circularImage" for circular nodes)
                        },
                        function: {
                            image: (node) => "https://slidestorage.s3.eu-north-1.amazonaws.com/" + node.properties.object_id + ".png"
                        }
                        }
                    },
                    STORYPOINT:{
                        label:"description",

                [NeoVis.NEOVIS_ADVANCED_CONFIG]: {
                    static: {
                        caption: "description",
                        shape: 'box',
                        color: {
                            background: 'white',
                            border: 'lightgray',
                            highlight: {
                                background: 'lightblue',
                                border: 'blue'
                            }
                        },
                        font: {
                            color: 'black',
                            size: 14, // Pixel size
                            face: 'Arial' // A modern and widely used font
                        }
                    }
                }
            }
                },

            relationships: {
            CONTAINS: {
                color: 'gray',
                arrows: {
                    to: {
                        enabled: true,
                        scaleFactor: 1.2 // Makes the arrow slightly larger
                    }
                },
                font: {
                    color: 'black',
                    size: 12,
                    face: 'Arial'
                }
            }
        },
        visConfig: {
            edges: {
                arrows: {
                    to: { enabled: true }
                }
            }
        },


                initialCypher: "MATCH (sd:SLIDE_DECK) WITH sd LIMIT 1 MATCH (sd)-[r1:CONTAINS]->(s:SLIDE)-[r2:ASSIGNED_TO]->(sp:STORYPOINT) RETURN sd, r1, s, r2, sp"
        };        
        viz = new NeoVis.default(config);
        viz.render();
        
    }
</script>

<body onload="draw()">
    <div id="viz"></div>
</body>

</html>
